<div class="container-fluid">
  <div class="row mb-4">
    <div class="col-12">
      <h2>Configuración del Sistema</h2>
      <p class="text-muted">Gestiona la configuración general de la aplicación.</p>
    </div>
  </div>

  <div class="row">
    <div class="col-md-8">
      <mat-card>
        <mat-card-header>
          <mat-card-title>Configuración General</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <form [formGroup]="settingsForm" (ngSubmit)="saveSettings()">
            <div class="row">
              <div class="col-md-6">
                <mat-form-field appearance="outline" class="w-100 mb-3">
                  <mat-label>Nombre de la Aplicación</mat-label>
                  <input matInput formControlName="appName">
                </mat-form-field>
              </div>
              <div class="col-md-6">
                <mat-form-field appearance="outline" class="w-100 mb-3">
                  <mat-label>Tiempo de sesión (minutos)</mat-label>
                  <input matInput type="number" formControlName="sessionTimeout">
                </mat-form-field>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6">
                <mat-form-field appearance="outline" class="w-100 mb-3">
                  <mat-label>Longitud mínima de contraseña</mat-label>
                  <input matInput type="number" formControlName="passwordMinLength">
                </mat-form-field>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group mb-3">
                  <mat-slide-toggle formControlName="allowRegistration" color="primary">
                    Permitir registro de nuevos usuarios
                  </mat-slide-toggle>
                  <p class="text-muted mt-1">Los usuarios podrán crear cuentas nuevas</p>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group mb-3">
                  <mat-slide-toggle formControlName="maintenanceMode" color="warn">
                    Modo de mantenimiento
                  </mat-slide-toggle>
                  <p class="text-muted mt-1">Solo los administradores podrán acceder</p>
                </div>
              </div>
            </div>

            <div class="form-actions">
              <button mat-raised-button color="primary" type="submit" [disabled]="settingsForm.invalid || loading">
                <mat-icon>save</mat-icon>
                <span *ngIf="!loading">Guardar Configuración</span>
                <span *ngIf="loading">Guardando...</span>
              </button>
              <button mat-button color="warn" type="button" (click)="resetSettings()" class="ms-2">
                <mat-icon>refresh</mat-icon> Restablecer
              </button>
            </div>
          </form>
        </mat-card-content>
      </mat-card>
    </div>

    <div class="col-md-4">
      <mat-card>
        <mat-card-header>
          <mat-card-title>Información del Sistema</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="info-item">
            <strong>Versión:</strong> 1.0.0
          </div>
          <div class="info-item">
            <strong>Base de Datos:</strong> MongoDB
          </div>
          <div class="info-item">
            <strong>Servidor:</strong> NestJS
          </div>
          <div class="info-item">
            <strong>Frontend:</strong> Angular 17
          </div>
          <div class="info-item">

            <strong>Última actualización:</strong> {{ getCurrentDate() | date:'dd/MM/yyyy' }}

          </div>
        </mat-card-content>
      </mat-card>

      <mat-card class="mt-3">
        <mat-card-header>
          <mat-card-title>Acciones del Sistema</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="d-grid gap-2">
            <button mat-raised-button color="primary" disabled>
              <mat-icon>backup</mat-icon> Crear Respaldo
            </button>
            <button mat-raised-button color="accent" disabled>
              <mat-icon>restore</mat-icon> Restaurar Sistema
            </button>
            <button mat-raised-button color="warn" disabled>
              <mat-icon>clear_all</mat-icon> Limpiar Logs
            </button>
          </div>
          <p class="text-muted mt-2 small">
            <mat-icon class="small-icon">info</mat-icon>
            Funciones disponibles en próximas versiones
          </p>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
